"use strict";(self.webpackChunkkeycloakify_starter=self.webpackChunkkeycloakify_starter||[]).push([[535],{535:(e,r,a)=>{a.r(r),a.d(r,{default:()=>c});var s=a(2791),t=a(6055),n=a(1027),i=a(184);function o(e){const{kcContext:r,onIsFormSubmittableValueChange:a,i18n:o,getClassName:l,BeforeField:c,AfterField:d}=e,{advancedMsg:u,msg:m}=o,{formValidationState:{fieldStateByAttributeName:p,isFormSubmittable:g},formValidationDispatch:h,attributesWithPassword:v}=(0,n.Q)({kcContext:r,i18n:o});(0,s.useEffect)((()=>{a(g)}),[g]);let f="";return(0,i.jsx)(i.Fragment,{children:v.map(((e,r)=>{var a;const{group:n="",groupDisplayHeader:o="",groupDisplayDescription:g=""}=e,{value:v,displayableErrors:b}=p[e.name],k=(0,t.W)(l("kcFormGroupClass"),0!==b.length&&l("kcFormGroupErrorClass"));return(0,i.jsxs)(s.Fragment,{children:[n!==f&&""!==(f=n)&&(0,i.jsxs)("div",{className:k,children:[(0,i.jsx)("div",{className:l("kcContentWrapperClass"),children:(0,i.jsx)("label",{id:"header-".concat(n),className:l("kcFormGroupHeader"),children:u(o)||f})}),""!==g&&(0,i.jsx)("div",{className:l("kcLabelWrapperClass"),children:(0,i.jsx)("label",{id:"description-".concat(n),className:l("kcLabelClass"),children:u(g)})})]}),c&&(0,i.jsx)(c,{attribute:e}),(0,i.jsxs)("div",{className:k,children:[(0,i.jsxs)("div",{className:l("kcLabelWrapperClass"),children:[(0,i.jsx)("label",{htmlFor:e.name,className:l("kcLabelClass"),children:u(null!==(a=e.displayName)&&void 0!==a?a:"")}),e.required&&(0,i.jsx)(i.Fragment,{children:"*"})]}),(0,i.jsxs)("div",{className:l("kcInputWrapperClass"),children:[(()=>{const{options:r}=e.validators;return void 0!==r?(0,i.jsx)("select",{id:e.name,name:e.name,onChange:r=>h({action:"update value",name:e.name,newValue:r.target.value}),onBlur:()=>h({action:"focus lost",name:e.name}),value:v,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"",selected:!0,disabled:!0,hidden:!0,children:m("selectAnOption")}),r.options.map((e=>(0,i.jsx)("option",{value:e,children:e},e)))]})}):(0,i.jsx)("input",{type:(()=>{switch(e.name){case"password-confirm":case"password":return"password";default:return"text"}})(),id:e.name,name:e.name,value:v,onChange:r=>h({action:"update value",name:e.name,newValue:r.target.value}),onBlur:()=>h({action:"focus lost",name:e.name}),className:l("kcInputClass"),"aria-invalid":0!==b.length,disabled:e.readOnly,autoComplete:e.autocomplete})})(),0!==b.length&&(()=>{const r="input-error-".concat(e.name);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"#".concat(r," > span: { display: block; }")}),(0,i.jsx)("span",{id:r,className:l("kcInputErrorMessageClass"),style:{position:1===b.length?"absolute":void 0},"aria-live":"polite",children:b.map((e=>{let{errorMessage:r}=e;return r}))})]})})()]})]}),d&&(0,i.jsx)(d,{attribute:e})]},r)}))})}var l=a(7107);function c(e){const{kcContext:r,i18n:a,doUseDefaultCss:n,Template:c,classes:d}=e,{getClassName:u}=(0,l.v)({doUseDefaultCss:n,classes:d}),{url:m,messagesPerField:p,recaptchaRequired:g,recaptchaSiteKey:h}=r,{msg:v,msgStr:f}=a,[b,k]=(0,s.useState)(!1);return(0,i.jsx)(c,{kcContext:r,i18n:a,doUseDefaultCss:n,classes:d,displayMessage:p.exists("global"),displayRequiredFields:!0,headerNode:v("registerTitle"),children:(0,i.jsxs)("form",{id:"kc-register-form",className:u("kcFormClass"),action:m.registrationAction,method:"post",children:[(0,i.jsx)(o,{kcContext:r,onIsFormSubmittableValueChange:k,i18n:a,getClassName:u}),g&&(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("div",{className:u("kcInputWrapperClass"),children:(0,i.jsx)("div",{className:"g-recaptcha","data-size":"compact","data-sitekey":h})})}),(0,i.jsxs)("div",{className:u("kcFormGroupClass"),style:{marginBottom:30},children:[(0,i.jsx)("div",{id:"kc-form-options",className:u("kcFormOptionsClass"),children:(0,i.jsx)("div",{className:u("kcFormOptionsWrapperClass"),children:(0,i.jsx)("span",{children:(0,i.jsx)("a",{href:m.loginUrl,children:v("backToLogin")})})})}),(0,i.jsx)("div",{id:"kc-form-buttons",className:u("kcFormButtonsClass"),children:(0,i.jsx)("input",{className:(0,t.W)(u("kcButtonClass"),u("kcButtonPrimaryClass"),u("kcButtonBlockClass"),u("kcButtonLargeClass")),type:"submit",value:f("doRegister"),disabled:!b})})]})]})})}},1027:(e,r,a)=>{a.d(r,{Q:()=>l});var s=a(184),t=(a(5423),a(2791)),n=a(7874),i=a(969);const o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function l(e){const{kcContext:r,passwordValidators:a={},i18n:l}=e,c=(0,t.useMemo)((()=>r.passwordRequired?(()=>{const e=r.realm.registrationEmailAsUsername?"email":"username";return r.profile.attributes.reduce(((r,s)=>[...r,...s.name!==e?[s]:[s,(0,n.id)({name:"password",displayName:(0,n.id)("${password}"),required:!0,readOnly:!1,validators:a,annotations:{},groupAnnotations:{},autocomplete:"new-password"}),(0,n.id)({name:"password-confirm",displayName:(0,n.id)("${passwordConfirm}"),required:!0,readOnly:!1,validators:{_compareToOther:{name:"password","ignore.empty.value":!0,shouldBe:"equal","error-message":(0,n.id)("${invalidPasswordConfirmMessage}")}},annotations:{},groupAnnotations:{},autocomplete:"new-password"})]]),[])})():r.profile.attributes),[r,a]),{getErrors:d}=function(e){const{kcContext:r,i18n:a}=e,{messagesPerField:l,profile:{attributes:c}}=r,{msg:d,msgStr:u,advancedMsg:m,advancedMsgStr:p}=a,g=(0,i.O)((e=>{var r;const{name:a,fieldValueByAttributeName:i}=e,{value:g}=i[a],{value:h,validators:v}=c.find((e=>e.name===a));e:{if((null!==h&&void 0!==h?h:"")!==g)break e;let e;try{e=l.existsError(a)}catch(b){break e}if(!e)break e;const r=l.get(a);return[{validatorName:void 0,errorMessageStr:r,errorMessage:(0,s.jsx)("span",{children:r},0)}]}const f=[];e:{const e="length",r=v[e];if(void 0===r)break e;const{"ignore.empty.value":a=!1,max:n,min:i}=r;if(!a||""!==g){if(void 0!==n&&g.length>parseInt(n)){const r=["error-invalid-length-too-long",n];f.push({errorMessage:(0,s.jsx)(t.Fragment,{children:d(...r)},f.length),errorMessageStr:u(...r),validatorName:e})}if(void 0!==i&&g.length<parseInt(i)){const r=["error-invalid-length-too-short",i];f.push({errorMessage:(0,s.jsx)(t.Fragment,{children:d(...r)},f.length),errorMessageStr:u(...r),validatorName:e})}}}e:{const e="_compareToOther",r=v[e];if(void 0===r)break e;const{"ignore.empty.value":o=!1,name:l,shouldBe:c,"error-message":d}=r;if(o&&""===g)break e;const{value:u}=i[l];if((()=>{switch(c){case"different":return u!==g;case"equal":return u===g}})())break e;const h=[null!==d&&void 0!==d?d:(0,n.id)((()=>{switch(c){case"equal":return"shouldBeEqual";case"different":return"shouldBeDifferent"}})()),l,a,c];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:m(...h)},f.length),errorMessageStr:p(...h)})}e:{const e="pattern",r=v[e];if(void 0===r)break e;const{"ignore.empty.value":a=!1,pattern:i,"error-message":o}=r;if(a&&""===g)break e;if(new RegExp(i).test(g))break e;const l=[null!==o&&void 0!==o?o:(0,n.id)("shouldMatchPattern"),i];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:m(...l)},f.length),errorMessageStr:p(...l)})}e:{if("pattern"===(null===(r=[...f].reverse()[0])||void 0===r?void 0:r.validatorName))break e;const e="email",a=v[e];if(void 0===a)break e;const{"ignore.empty.value":i=!1}=a;if(i&&""===g)break e;if(o.test(g))break e;const l=[(0,n.id)("invalidEmailMessage")];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:d(...l)},f.length),errorMessageStr:u(...l)})}e:{const e="integer",r=v[e];if(void 0===r)break e;const{"ignore.empty.value":a=!1,max:n,min:i}=r;if(a&&""===g)break e;const o=parseInt(g);if(isNaN(o)){const r=["mustBeAnInteger"];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:d(...r)},f.length),errorMessageStr:u(...r)})}else if(void 0!==n&&o>parseInt(n)){const r=["error-number-out-of-range-too-big",n];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:d(...r)},f.length),errorMessageStr:u(...r)})}else if(void 0!==i&&o<parseInt(i)){const r=["error-number-out-of-range-too-small",i];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:d(...r)},f.length),errorMessageStr:u(...r)})}else;}e:{const e="options",r=v[e];if(void 0===r)break e;if(""===g)break e;if(r.options.indexOf(g)>=0)break e;const a=[(0,n.id)("notAValidOption")];f.push({validatorName:e,errorMessage:(0,s.jsx)(t.Fragment,{children:m(...a)},f.length),errorMessageStr:p(...a)})}return f}));return{getErrors:g}}({kcContext:{messagesPerField:r.messagesPerField,profile:{attributes:c}},i18n:l}),u=(0,t.useMemo)((()=>Object.fromEntries(c.map((e=>({attribute:e,errors:d({name:e.name,fieldValueByAttributeName:Object.fromEntries(c.map((e=>{let{name:r,value:a}=e;return[r,{value:null!==a&&void 0!==a?a:""}]})))})}))).map((e=>{let{attribute:r,errors:a}=e;var s;return[r.name,{value:null!==(s=r.value)&&void 0!==s?s:"",errors:a,doDisplayPotentialErrorMessages:0!==a.length}]})))),[c]),[m,p]=(0,t.useReducer)(((e,r)=>Object.assign(Object.assign({},e),{[r.name]:Object.assign(Object.assign({},e[r.name]),(()=>{switch(r.action){case"focus lost":return{doDisplayPotentialErrorMessages:!0};case"update value":return{value:r.newValue,errors:d({name:r.name,fieldValueByAttributeName:Object.assign(Object.assign({},e),{[r.name]:{value:r.newValue}})})}}})())})),u);return{formValidationState:(0,t.useMemo)((()=>({fieldStateByAttributeName:Object.fromEntries(Object.entries(m).map((e=>{let[r,{value:a,errors:s,doDisplayPotentialErrorMessages:t}]=e;return[r,{value:a,displayableErrors:t?s:[]}]}))),isFormSubmittable:Object.entries(m).every((e=>{let[r,{value:a,errors:s}]=e;return 0===s.length&&(""!==a||!c.find((e=>e.name===r)).required)}))})),[m,c]),formValidationDispatch:p,attributesWithPassword:c}}},5423:()=>{Array.prototype.every||(Array.prototype.every=function(e,r){var a,s;if(null==this)throw new TypeError("this is null or not defined");var t=Object(this),n=t.length>>>0;if("function"!==typeof e&&"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError;for(arguments.length>1&&(a=r),s=0;s<n;){var i;if(s in t)if(i=t[s],!(a?e.call(a,i,s,t):e(i,s,t)))return!1;s++}return!0})}}]);
//# sourceMappingURL=535.f10f8696.chunk.js.map