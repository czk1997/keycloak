{"version":3,"file":"static/js/9129.8abac3ca.chunk.js","mappings":"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","sources":["login/pages/Register.tsx"],"sourcesContent":["// ejected using 'npx eject-keycloak-page'\nimport {useEffect, useState} from \"react\";\nimport {clsx} from \"keycloakify/tools/clsx\";\nimport {UserProfileFormFields} from \"./shared/UserProfileFormFields\";\nimport type {PageProps} from \"keycloakify/login/pages/PageProps\";\nimport {useGetClassName} from \"keycloakify/login/lib/useGetClassName\";\nimport type {KcContext} from \"../kcContext\";\nimport type {I18n} from \"../i18n\";\nimport {Button} from \"../../components/ui/button\";\nimport {useTitle} from \"react-use\";\nimport {Checkbox} from \"../../components/ui/checkbox\";\n\ndeclare global {\n    interface Window {\n        grecaptcha: {\n            render: (\n                container?: string | HTMLElement,\n                options?: {\n                    sitekey: string;\n                    theme?: string;\n                    size?: string;\n                    tabindex?: number;\n                    callback?: (response: string) => void;\n                    \"expired-callback\"?: () => void;\n                    \"error-callback\"?: () => void;\n                }\n            ) => number;\n        };\n    }\n}\n\nexport default function Register(props: PageProps<Extract<KcContext, {\n    pageId: \"register.ftl\"\n}>, I18n>) {\n    const {kcContext, i18n, doUseDefaultCss, Template, classes} = props;\n\n    const {getClassName} = useGetClassName({\n        doUseDefaultCss,\n        classes\n    });\n\n    const {url, messagesPerField, recaptchaRequired, recaptchaSiteKey, termsAcceptanceRequired} = kcContext;\n\n    const {msg, msgStr} = i18n;\n    useTitle(`${msgStr(\"doRegister\")} - ${kcContext.realm.displayName}`)\n    const [isFormSubmittable, setIsFormSubmittable] = useState(false);\n    useEffect(() => {\n        if (recaptchaRequired && recaptchaSiteKey) {\n            const recaptchaScriptUrl = kcContext.scripts?.[0] || \"https://www.google.com/recaptcha/api.js\"; // fallback for Storybook\n\n            let script = document.querySelector(`script[src=\"${recaptchaScriptUrl}\"]`) as HTMLScriptElement | null;\n\n            const renderRecaptcha = () => {\n                if (window.grecaptcha && document.getElementById(\"recaptcha-container\")) {\n                    try {\n                        window.grecaptcha.render(\"recaptcha-container\", {\n                            sitekey: recaptchaSiteKey\n                            // other reCAPTCHA options as needed\n                        });\n                    } catch (e) {\n\n                    }\n\n                }\n\n            };\n\n            if (!script) {\n                script = document.createElement(\"script\");\n                script.src = recaptchaScriptUrl;\n                script.async = true;\n                document.head.appendChild(script);\n\n                script.onload = () => {\n                    setTimeout(renderRecaptcha, 1000);\n                };\n            } else {\n                setTimeout(renderRecaptcha, 1000);\n            }\n\n            return () => {\n                if (document.body.contains(script)) {\n                    document.body.removeChild(script!);\n                }\n            };\n        }\n    }, [recaptchaRequired, recaptchaSiteKey, kcContext.scripts]);\n    return (\n        <Template\n            {...{kcContext, i18n, doUseDefaultCss, classes}}\n            displayMessage={messagesPerField.exists(\"global\")}\n            displayRequiredFields={true}\n            headerNode={msg(\"doRegister\")}\n        >\n            <div className=\"lg:p-8 lg:pb-4 flex gap-4\">\n                <div className={`mx-auto flex w-full flex-col justify-center sm:w-[350px] `}\n                     id=\"kc-form-wrapper\"\n                    // className={clsx(\n                    //     realm.password &&\n                    //     social.providers && [getClassName(\"kcFormSocialAccountContentClass\"), getClassName(\"kcFormSocialAccountClass\")]\n                    // )}\n                >\n                    <form id=\"kc-register-form\" className={\"grid gap-4 items-center\"} action={url.registrationAction}\n                          method=\"post\">\n                        <UserProfileFormFields\n                            //@ts-ignore\n                            kcContext={kcContext}\n                            onIsFormSubmittableValueChange={setIsFormSubmittable}\n                            i18n={i18n}\n                            getClassName={getClassName}\n                        />\n                        {termsAcceptanceRequired &&\n                            <div className=\"flex items-center space-x-2\">\n                                <Checkbox id=\"termsAccepted\" name=\"termsAccepted\"/>\n                                <label htmlFor=\"termsAccepted\"\n                                       className={\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n                                       }>{msg(\"acceptTerms\")}</label>\n\n                            </div>\n                        }\n                        {recaptchaRequired && (\n                            <div className=\"form-group\">\n                                <div className={getClassName(\"kcInputWrapperClass\")}>\n                                    <div className=\"g-recaptcha w-full first:w-full\" data-size=\"normal\"\n                                         id=\"recaptcha-container\" data-sitekey={recaptchaSiteKey}/>\n                                </div>\n                            </div>\n                        )}\n                        <div className={\"mt-3\"}>\n                            <div id=\"kc-form-buttons\" className={getClassName(\"kcFormButtonsClass\")}>\n                                <Button\n                                    className={\"w-full\"}\n                                    type=\"submit\"\n                                    disabled={!isFormSubmittable}\n                                >\n                                    {msgStr(\"doRegister\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </form>\n                    <div className={\"text-sm mt-3 hover:underline text-slate-500\"}>\n                            <span>\n                                <a href={url.loginUrl}>{msg(\"backToLogin\")}</a>\n                            </span>\n                    </div>\n                </div>\n            </div>\n        </Template>\n    );\n}\n"],"names":["Register","props","kcContext","i18n","doUseDefaultCss","Template","classes","getClassName","useGetClassName","url","messagesPerField","recaptchaRequired","recaptchaSiteKey","termsAcceptanceRequired","msg","msgStr","useTitle","concat","realm","displayName","isFormSubmittable","setIsFormSubmittable","useState","useEffect","_kcContext$scripts","recaptchaScriptUrl","scripts","script","document","querySelector","renderRecaptcha","window","grecaptcha","getElementById","render","sitekey","e","setTimeout","createElement","src","async","head","appendChild","onload","body","contains","removeChild","_jsx","displayMessage","exists","displayRequiredFields","headerNode","children","className","_jsxs","id","action","registrationAction","method","UserProfileFormFields","onIsFormSubmittableValueChange","Checkbox","name","htmlFor","Button","type","disabled","href","loginUrl"],"sourceRoot":""}