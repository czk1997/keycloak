"use strict";(self.webpackChunkkeycloakify_starter=self.webpackChunkkeycloakify_starter||[]).push([[469],{9207:(e,s,t)=>{t.d(s,{d:()=>o,z:()=>c});var a=t(2791),r=t(2533),n=t(152),l=t(5442),i=t(184);const o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(((e,s)=>{let{className:t,variant:a,size:n,asChild:c=!1,...d}=e;const m=c?r.g7:"button";return(0,i.jsx)(m,{className:(0,l.cn)(o({variant:a,size:n,className:t})),ref:s,...d})}));c.displayName="Button"},3478:(e,s,t)=>{t.d(s,{X:()=>o});var a=t(2791),r=t(2330),n=t(1928),l=t(5442),i=t(184);const o=a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(r.fC,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:(0,i.jsx)(r.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(n.nQG,{className:"h-4 w-4"})})})}));o.displayName=r.fC.displayName},8777:(e,s,t)=>{t.d(s,{I:()=>l});var a=t(2791),r=t(5442),n=t(184);const l=a.forwardRef(((e,s)=>{let{className:t,type:a,...l}=e;return(0,n.jsx)("input",{type:a,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})}));l.displayName="Input"},532:(e,s,t)=>{t.d(s,{_:()=>c});var a=t(2791),r=t(3876),n=t(152),l=t(5442),i=t(184);const o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,i.jsx)(r.f,{ref:s,className:(0,l.cn)(o(),t),...a})}));c.displayName=r.f.displayName},5824:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(2791),r=t(1713),n=t(5442),l=t(184);const i=a.forwardRef(((e,s)=>{let{className:t,orientation:a="horizontal",decorative:i=!0,...o}=e;return(0,l.jsx)(r.f,{ref:s,decorative:i,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",t),...o})}));i.displayName=r.f.displayName},5442:(e,s,t)=>{t.d(s,{cn:()=>n});var a=t(3733),r=t(2511);function n(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}},469:(e,s,t)=>{t.r(s),t.d(s,{default:()=>q});var a=t(2791),r=t(7406);const{useI18n:n}=(0,r.Lv)({en:{loginAs:"Log in as",notYou:"Not You?"},zh_CN:{loginAs:"\u767b\u5f55\u4e3a",notYou:"\u4e0d\u662f\u4f60\uff1f"}});var l=t(8258),i=t(6055),o=t(7747),c=t(7107),d=t(1999),m=t(1928),u=t(5442),f=t(184);const p=d.fC,x=d.xz;d.ZA,d.Uv,d.Tr,d.Ee;a.forwardRef(((e,s)=>{let{className:t,inset:a,children:r,...n}=e;return(0,f.jsxs)(d.fF,{ref:s,className:(0,u.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...n,children:[r,(0,f.jsx)(m.XCv,{className:"ml-auto h-4 w-4"})]})})).displayName=d.fF.displayName;a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)(d.tu,{ref:s,className:(0,u.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})})).displayName=d.tu.displayName;const h=a.forwardRef(((e,s)=>{let{className:t,sideOffset:a=4,...r}=e;return(0,f.jsx)(d.Uv,{children:(0,f.jsx)(d.VY,{ref:s,sideOffset:a,className:(0,u.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})})}));h.displayName=d.VY.displayName;const g=a.forwardRef(((e,s)=>{let{className:t,inset:a,...r}=e;return(0,f.jsx)(d.ck,{ref:s,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...r})}));g.displayName=d.ck.displayName;a.forwardRef(((e,s)=>{let{className:t,children:a,checked:r,...n}=e;return(0,f.jsxs)(d.oC,{ref:s,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[(0,f.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,f.jsx)(d.wU,{children:(0,f.jsx)(m.nQG,{className:"h-4 w-4"})})}),a]})})).displayName=d.oC.displayName;a.forwardRef(((e,s)=>{let{className:t,children:a,...r}=e;return(0,f.jsxs)(d.Rk,{ref:s,className:(0,u.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[(0,f.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,f.jsx)(d.wU,{children:(0,f.jsx)(m.jXb,{className:"h-4 w-4 fill-current"})})}),a]})})).displayName=d.Rk.displayName;a.forwardRef(((e,s)=>{let{className:t,inset:a,...r}=e;return(0,f.jsx)(d.__,{ref:s,className:(0,u.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...r})})).displayName=d.__.displayName;a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)(d.Z0,{ref:s,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",t),...a})})).displayName=d.Z0.displayName;var y=t(9207);const N=(0,t(152).j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),b=a.forwardRef(((e,s)=>{let{className:t,variant:a,...r}=e;return(0,f.jsx)("div",{ref:s,role:"alert",className:(0,u.cn)(N({variant:a}),t),...r})}));b.displayName="Alert";const v=a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("h5",{ref:s,className:(0,u.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})}));v.displayName="AlertTitle";const j=a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("div",{ref:s,className:(0,u.cn)("text-sm [&_p]:leading-relaxed",t),...a})}));j.displayName="AlertDescription";const w=a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("div",{ref:s,className:(0,u.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})}));w.displayName="Card";a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("div",{ref:s,className:(0,u.cn)("flex flex-col space-y-1.5 p-6",t),...a})})).displayName="CardHeader";a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("h3",{ref:s,className:(0,u.cn)("font-semibold leading-none tracking-tight",t),...a})})).displayName="CardTitle";a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("p",{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",t),...a})})).displayName="CardDescription";const k=a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("div",{ref:s,className:(0,u.cn)("p-6 pt-0",t),...a})}));k.displayName="CardContent";function C(e){const{displayInfo:s=!1,displayMessage:t=!0,displayRequiredFields:r=!1,displayWide:n=!1,showAnotherWayIfPresent:d=!0,headerNode:N,showUsernameNode:C=null,infoNode:A=null,kcContext:U,i18n:R,doUseDefaultCss:I,classes:D,children:z}=e,{getClassName:F}=(0,c.v)({doUseDefaultCss:I,classes:D}),{msg:T,changeLocale:S,labelBySupportedLanguageTag:L,currentLanguageTag:W}=R,{realm:_,locale:B,auth:H,url:O,message:P,isAppInitiatedAction:E}=U,{isReady:M}=(0,o.M)({doFetchDefaultThemeResources:I,styles:[],htmlClassName:F("kcHtmlClass"),bodyClassName:F("kcBodyClass")});return(0,a.useState)((()=>{document.title=R.msgStr("loginTitle",U.realm.displayName)})),M?(console.log(U),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"h-screen relative w-full overflow-hidden flex flex-col items-center justify-center",children:[_.internationalizationEnabled&&((0,l.h)(void 0!==B),!0)&&B.supported.length>1&&(0,f.jsxs)(p,{children:[(0,f.jsxs)(x,{className:(0,u.cn)("z-10",(0,y.d)({variant:"ghost"}),"absolute right-4 top-4 md:right-8 md:top-8"),children:[" ",L[W]]}),(0,f.jsx)(h,{children:B.supported.map((e=>{let{languageTag:s}=e;return(0,f.jsxs)(g,{onClick:()=>S(s),children:["  ",L[s]]})}))})]}),(0,f.jsxs)("div",{className:"absolute right-4 top-4 md:left-8 md:top-8 flex items-center z-20",children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:(0,f.jsx)("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})}),T("loginTitleHtml",_.displayNameHtml)]}),(0,f.jsx)("div",{className:"container relative h-screen flex items-center justify-center md:grid lg:max-w-none lg:px-0",children:(0,f.jsx)("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 items-center",children:(0,f.jsx)(w,{id:"kc-content",className:"z-20 lg:px-8",children:(0,f.jsxs)(k,{id:"kc-content-wrapper",className:"flex flex-col min-[w]:350px ",children:[(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-center mt-6 mb-3",id:"kc-page-title",children:N})}),void 0!==H&&H.showUsername&&(0,f.jsxs)("div",{className:"mt-3 mb-3 text-slate-500",children:[T("loginAs")," ",(0,f.jsx)("span",{className:"font-bold text-slate-950",children:null===H||void 0===H?void 0:H.attemptedUsername}),H.showResetCredentials&&(0,f.jsx)("a",{id:"reset-login",href:O.loginRestartFlowUrl,className:"text-sm items-center relative w-auto h-0 inline-block hover:underline ml-1",children:"(Not You?)"})]}),t&&void 0!==P&&("warning"!==P.type||!E)&&(0,f.jsxs)("div",{className:(0,i.W)("alert","alert-".concat(P.type)),children:["success"===P.type&&(0,f.jsx)("span",{className:F("kcFeedbackSuccessIcon")}),"warning"===P.type&&(0,f.jsx)("span",{className:F("kcFeedbackWarningIcon")}),"error"===P.type&&(0,f.jsxs)(b,{variant:"destructive",className:"mb-2",children:[(0,f.jsx)(m.LPM,{className:"h-4 w-4"}),(0,f.jsx)(v,{children:T("errorTitle")}),(0,f.jsx)(j,{children:P.summary})]}),"info"===P.type&&(0,f.jsx)("span",{className:F("kcFeedbackInfoIcon")})]}),z,void 0!==H&&H.showTryAnotherWayLink&&d&&(0,f.jsx)("form",{id:"kc-select-try-another-way-form",action:O.loginAction,method:"post",className:(0,i.W)(n&&F("kcContentWrapperClass")),children:(0,f.jsx)("div",{className:(0,i.W)(n&&[F("kcFormSocialAccountContentClass"),F("kcFormSocialAccountClass")]),children:(0,f.jsxs)("div",{className:F("kcFormGroupClass"),children:[(0,f.jsx)("input",{type:"hidden",name:"tryAnotherWay",value:"on"}),(0,f.jsx)("a",{href:"#",id:"try-another-way",onClick:()=>(document.forms["kc-select-try-another-way-form"].submit(),!1),children:T("doTryAnotherWay")})]})})}),s&&(0,f.jsx)("div",{id:"kc-info",className:F("kcSignUpClass"),children:(0,f.jsx)("div",{id:"kc-info-wrapper",className:F("kcInfoAreaWrapperClass"),children:A})})]})})})})]})})):null}a.forwardRef(((e,s)=>{let{className:t,...a}=e;return(0,f.jsx)("div",{ref:s,className:(0,u.cn)("flex items-center p-6 pt-0",t),...a})})).displayName="CardFooter";var A=t(8777),U=t(532);const R=new URL(window.location.href).searchParams.get("my_custom_param");function I(e){const{kcContext:s,i18n:t,doUseDefaultCss:a,Template:r,classes:n}=e,{getClassName:l}=(0,c.v)({doUseDefaultCss:a,classes:n}),{url:i,realm:o,auth:d}=s,{msg:m,msgStr:u}=t;return(0,f.jsx)(r,{kcContext:s,i18n:t,doUseDefaultCss:a,classes:n,displayMessage:!1,headerNode:m("emailForgotTitle"),infoNode:m("emailInstruction"),children:(0,f.jsx)("div",{className:"lg:p-8 lg:pb-4 flex gap-4",children:(0,f.jsxs)("div",{className:"mx-auto flex w-full flex-col justify-center sm:w-[350px] ",id:"kc-form-wrapper",children:[(0,f.jsxs)("form",{id:"kc-reset-password-form",className:"grid gap-3 items-center",action:i.loginAction,method:"post",children:[(0,f.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,f.jsxs)(U._,{htmlFor:"autoCompleteHelper",children:[" ",o.loginWithEmailAllowed?o.registrationEmailAsUsername?m("email"):m("usernameOrEmail"):m("username")]}),(0,f.jsx)(A.I,{type:"text",id:"username",name:"username",autoFocus:!0,defaultValue:void 0!==d&&d.showUsername?d.attemptedUsername:void 0})]}),(0,f.jsx)("div",{id:"kc-form-buttons",className:l("kcFormButtonsClass"),children:(0,f.jsx)(y.z,{className:"w-full",type:"submit",children:u("doSubmit")})})]}),(0,f.jsx)("div",{className:"text-sm mt-3 hover:underline text-slate-500",children:(0,f.jsx)("span",{children:(0,f.jsx)("a",{href:i.loginUrl,children:m("backToLogin")})})})]})})})}null!==R&&console.log("my_custom_param:",R);var D=t(969),z=t(3478),F=t(5824);const T=new URL(window.location.href).searchParams.get("my_custom_param");function S(e){const{kcContext:s,i18n:t,doUseDefaultCss:r,Template:n,classes:l}=e,{getClassName:o}=(0,c.v)({doUseDefaultCss:r,classes:l}),{social:d,realm:u,url:p,usernameHidden:x,login:h,auth:g,registrationDisabled:N}=s,{msg:b,msgStr:v}=t,[j,w]=(0,a.useState)(!1),k=(0,D.O)((e=>{var s;e.preventDefault(),w(!0);const t=e.target;null===(s=t.querySelector("input[name='email']"))||void 0===s||s.setAttribute("name","username"),t.submit()}));return(0,f.jsx)(n,{kcContext:s,i18n:t,doUseDefaultCss:r,classes:l,displayInfo:d.displayInfo,displayWide:u.password&&void 0!==d.providers,headerNode:b("doLogIn"),infoNode:u.password&&u.registrationAllowed&&!N&&(0,f.jsxs)("div",{id:"kc-registration",className:"justify-center items-center text-center",children:[(0,f.jsx)(F.Z,{className:"mb-3"}),(0,f.jsxs)("span",{className:"text-slate-500 text-sm",children:[b("noAccount")," "," ",(0,f.jsx)("a",{tabIndex:6,href:p.registrationUrl,className:"text-slate-950",children:b("doRegister")})]})]}),children:(0,f.jsxs)("div",{className:" flex gap-4",children:[(0,f.jsx)("div",{className:"mx-auto flex w-full flex-col justify-center sm:w-[350px] ",id:"kc-form-wrapper",children:u.password&&(0,f.jsxs)("form",{id:"kc-form-login",onSubmit:k,action:p.loginAction,method:"post",className:"grid gap-3 items-center",children:[(0,f.jsx)("div",{className:o("kcFormGroupClass"),children:!x&&(e=>{const s=u.loginWithEmailAllowed?u.registrationEmailAsUsername?"email":"usernameOrEmail":"username",t="usernameOrEmail"===s?"username":s;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(U._,{htmlFor:t,className:o("kcLabelClass"),children:b(s)}),(0,f.jsx)(A.I,{tabIndex:1,id:t,className:o("kcInputClass"),name:t,defaultValue:null!==(e=h.username)&&void 0!==e?e:"",type:"text",autoFocus:!0,autoComplete:"off"})]})})()}),(0,f.jsx)("div",{className:(0,i.W)(o("kcFormGroupClass"),o("kcFormSettingClass")),children:(0,f.jsx)("div",{id:"kc-form-options",children:u.rememberMe&&!x&&(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,f.jsx)(z.X,{tabIndex:3,id:"rememberMe",name:"rememberMe",defaultChecked:"on"===h.rememberMe}),(0,f.jsx)("label",{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:b("rememberMe")})]})})}),(0,f.jsx)("div",{id:"kc-form-buttons",className:o("kcFormGroupClass"),children:(0,f.jsx)(y.z,{tabIndex:4,className:"w-full",name:"login",id:"kc-login",type:"submit",disabled:j,children:v("doLogIn")})})]})}),u.password&&void 0!==d.providers&&(0,f.jsxs)("div",{id:"kc-social-providers",className:"flex gap-4",children:[(0,f.jsx)(F.Z,{orientation:"vertical"}),(0,f.jsx)("ul",{className:"grid grid-cols-2 gap-2",children:d.providers.map((e=>(0,f.jsx)("li",{className:o("kcFormSocialAccountListLinkClass"),children:(0,f.jsxs)(y.z,{onClick:()=>window.open(e.loginUrl),id:"zocial-".concat(e.alias),className:"".concat((0,y.d)({variant:"secondary"})," w-full flex justify-start gap-2"),children:[(0,f.jsx)(m.wGg,{}),(0,f.jsx)("span",{children:e.displayName})]})},e.providerId)))})]})]})})}function L(e){var s;const{kcContext:t,i18n:r,doUseDefaultCss:n,Template:l,classes:i}=e,{getClassName:o}=(0,c.v)({doUseDefaultCss:n,classes:i}),{realm:d,url:m,login:u}=t,{msg:p,msgStr:x}=r,[h,g]=(0,a.useState)(!1),N=(0,D.O)((e=>{e.preventDefault(),g(!0);e.target.submit()}));return(0,f.jsx)(l,{kcContext:t,i18n:r,doUseDefaultCss:n,classes:i,headerNode:p("doLogIn"),children:(0,f.jsx)("div",{className:"flex gap-4",children:(0,f.jsxs)("div",{className:"mx-auto flex w-full flex-col justify-center sm:w-[350px] ",children:[(0,f.jsxs)("form",{id:"kc-form-login",onSubmit:N,action:m.loginAction,method:"post",className:"grid gap-3 items-center",children:[(0,f.jsxs)("div",{className:o("kcFormGroupClass"),children:[(0,f.jsx)(U._,{htmlFor:"password",className:o("kcLabelClass"),children:p("password")}),(0,f.jsx)(A.I,{tabIndex:2,id:"password",className:o("kcInputClass"),name:"password",type:"password",autoFocus:!0,autoComplete:"on",defaultValue:null!==(s=u.password)&&void 0!==s?s:""})]}),(0,f.jsx)("div",{id:"kc-form-buttons",className:o("kcFormGroupClass"),children:(0,f.jsx)(y.z,{tabIndex:4,className:"w-full",name:"login",id:"kc-login",type:"submit",disabled:h,children:x("doLogIn")})})]}),d.resetPasswordAllowed&&(0,f.jsx)("span",{className:"text-sm mt-3 text-slate-500",children:(0,f.jsx)("a",{tabIndex:5,href:m.loginResetCredentialsUrl,children:p("doForgotPassword")})})]})})})}null!==T&&console.log("my_custom_param:",T);var W=t(5526),_=t(9883),B=t(1742),H=t(9465);function O(e){const{kcContext:s,i18n:t,doUseDefaultCss:r,Template:n,classes:l}=e,{getClassName:o}=(0,c.v)({doUseDefaultCss:r,classes:l}),{url:d,attestationConveyancePrefrence:m,authenticatorAttachment:u,challenge:p,createTimeout:x,excludeCredentialsId:h,requireResidentKey:g,userid:y,username:N,signatureAlgorithms:b,userVerificationRequirement:v,rpEntityName:j,rpId:w,isSetRetry:k,isAppInitiatedAction:C}=s,{msg:A,msgStr:U}=t,[R,I]=(0,a.useState)(""),[z,F]=(0,a.useState)(""),[T,S]=(0,a.useState)(""),[L,O]=(0,a.useState)(""),[P,E]=(0,a.useState)(""),[M,V]=(0,a.useState)(""),G=(0,a.useRef)(null),[K,Y]=(0,a.useState)(!1),Z=async()=>{const e=G.current;if(null===e)return await new Promise((e=>setTimeout(e,100))),Z();e.submit()},q=(0,D.O)((async()=>{if(!window.PublicKeyCredential)return V("WebAuthn is not supported in this browser."),void(G.current&&G.current.submit());let e=X(b),s={name:j,id:w},t={challenge:W.tH.parse(p,{loose:!0}),rp:s,user:{id:W.tH.parse(y,{loose:!0}),name:N,displayName:N},pubKeyCredParams:e,attestation:"not specified"!==m?m:void 0},a={},r=!1;"not specified"!==u&&(a={authenticatorAttachment:u},r=!0),"not specified"!==g&&(a="Yes"===g?{...a,requireResidentKey:!0}:{...a,requireResidentKey:!1},r=!0),"not specified"!==v&&(a={...a,userVerification:v},r=!0),r&&(t={...t,authenticatorSelection:a}),0!==x&&(t={...t,timeout:1e3*x});let n=J(h);n&&0!==n.length&&(t={...t,excludeCredentials:n});try{const e=await navigator.credentials.create({publicKey:t});if(!e||"public-key"!==e.type)return;(0,_.h)((0,B.is)(e));const s=e.response,a=s.clientDataJSON,r=s.attestationObject;if((0,_.h)((0,H.z)(s,s.attestationObject instanceof ArrayBuffer),"response not an AuthenticatorAttestationResponse"),I(W.tH.stringify(new Uint8Array(a),{pad:!1})),F(W.tH.stringify(new Uint8Array(r),{pad:!1})),S(W.tH.stringify(new Uint8Array(e.rawId),{pad:!1})),"function"===typeof s.getTransports){let e=s.getTransports();e&&E(Q(e))}else console.log("Your browser is not able to recognize supported transport media for the authenticator.");let n="WebAuthn Authenticator (Default Label)",l=window.prompt("Please enter a label for your WebAuthn authenticator",n);null!==l&&""!==l&&O(l)}catch(l){V(String(l)),Y(!0)}Y(!0)})),X=e=>{let s=[];if(0===b.length){let e={type:"public-key",alg:-7};return s.push(e),s}for(let t of e)s.push({type:"public-key",alg:t});return s},J=e=>{let s=[];if(!e)return s;let t=e.split(",");for(let a of t)s.push({type:"public-key",id:W.tH.parse(a,{loose:!0})})},Q=e=>{if(""===e||e.constructor!==Array)return"";let s="";for(let t=0;t<e.length;t++)s+=e[t]+",";return s.slice(0,-1)};return(0,a.useEffect)((()=>{K&&(Z(),Y(!1))}),[K]),(0,f.jsx)(n,{kcContext:s,i18n:t,doUseDefaultCss:r,classes:l,headerNode:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:o("kcWebAuthnDefaultIcon"),style:{marginRight:"5px"}}),A("webauthn-registration-title")]}),children:(0,f.jsxs)("div",{id:"kc-form-webauthn",className:o("kcFormClass"),children:[(0,f.jsxs)("form",{id:"kc-webauthn-settings-form",action:d.loginAction,ref:G,method:"post",className:o("kcFormClass"),children:[(0,f.jsx)("input",{type:"hidden",id:"clientDataJSON",name:"clientDataJSON",value:R}),(0,f.jsx)("input",{type:"hidden",id:"attestationObject",name:"attestationObject",value:z}),(0,f.jsx)("input",{type:"hidden",id:"publicKeyCredentialId",name:"publicKeyCredentialId",value:T}),(0,f.jsx)("input",{type:"hidden",id:"authenticatorLabel",name:"authenticatorLabel",value:L}),(0,f.jsx)("input",{type:"hidden",id:"transports",name:"transports",value:P}),(0,f.jsx)("input",{type:"hidden",id:"error",name:"error",value:M})]}),(0,f.jsx)("input",{type:"button",onClick:q,value:U("doRegister"),id:"registerWebAuthn",className:(0,i.W)(o("kcButtonClass"),o("kcButtonPrimaryClass"),o("kcButtonBlockClass"),o("kcButtonLargeClass"))}),!k&&C&&(0,f.jsx)("form",{action:d.loginAction,className:o("kcFormClass"),children:(0,f.jsx)("button",{type:"submit",className:"".concat(o("kcButtonClass")," ").concat(o("kcButtonDefaultClass")," ").concat(o("kcButtonBlockClass")," ").concat(o("kcButtonLargeClass")),id:"cancelWebAuthnAIA",name:"cancel-aia",value:"true",children:A("doCancel")})})]})})}const P=(0,a.lazy)((()=>t.e(575).then(t.bind(t,575)))),E=(0,a.lazy)((()=>t.e(9129).then(t.bind(t,9129)))),M=(0,a.lazy)((()=>Promise.all([t.e(5033),t.e(9025)]).then(t.bind(t,9025)))),V=(0,a.lazy)((()=>t.e(7169).then(t.bind(t,2754)))),G=(0,a.lazy)((()=>t.e(9074).then(t.bind(t,9074)))),K=(0,a.lazy)((()=>t.e(773).then(t.bind(t,773)))),Y=(0,a.lazy)((()=>t.e(2444).then(t.bind(t,2444)))),Z={kcHtmlClass:"my-root-class",kcHeaderWrapperClass:"my-color my-font"};function q(e){const{kcContext:s}=e,l=n({kcContext:s});return null===l?null:(0,f.jsx)(a.Suspense,{children:(()=>{switch(s.pageId){case"login.ftl":return(0,f.jsx)(P,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!1});case"login-username.ftl":return(0,f.jsx)(S,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!1});case"login-password.ftl":return(0,f.jsx)(L,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!1});case"login-reset-password.ftl":return(0,f.jsx)(I,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!1});case"register.ftl":return(0,f.jsx)(E,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!0});case"register-user-profile.ftl":return(0,f.jsx)(M,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!0});case"terms.ftl":return(0,f.jsx)(V,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!0});case"my-extra-page-1.ftl":return(0,f.jsx)(G,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!0});case"my-extra-page-2.ftl":return(0,f.jsx)(K,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!0});case"webauthn-register.ftl":return(0,f.jsx)(O,{kcContext:s,i18n:l,Template:C,classes:Z,doUseDefaultCss:!0});case"info.ftl":return(0,f.jsx)(Y,{kcContext:s,i18n:l,classes:Z,Template:(0,a.lazy)((()=>t.e(3870).then(t.bind(t,3870)))),doUseDefaultCss:!0});default:return(0,f.jsx)(r.ZP,{kcContext:s,i18n:l,classes:Z,Template:C,doUseDefaultCss:!0})}})()})}}}]);
//# sourceMappingURL=469.bf11fd71.chunk.js.map